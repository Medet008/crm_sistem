{"remainingRequest":"/Users/medetkalpebaev/Documents/crm_sistem/node_modules/babel-loader/lib/index.js!/Users/medetkalpebaev/Documents/crm_sistem/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/medetkalpebaev/Documents/crm_sistem/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/medetkalpebaev/Documents/crm_sistem/src/views/Article.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/medetkalpebaev/Documents/crm_sistem/src/views/Article.vue","mtime":1599941887000},{"path":"/Users/medetkalpebaev/Documents/crm_sistem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/medetkalpebaev/Documents/crm_sistem/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/medetkalpebaev/Documents/crm_sistem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/medetkalpebaev/Documents/crm_sistem/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21lZGV0a2FscGViYWV2L0RvY3VtZW50cy9jcm1fc2lzdGVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgYWN0aW9uVHlwZXMgYXMgYXJ0aWNsZUFjdGlvblR5cGVzIH0gZnJvbSAnQC9zdG9yZS9tb2R1bGVzL2FydGljbGUnOwppbXBvcnQgeyBnZXR0ZXJUeXBlcyBhcyBhdXRoR2V0dGVyVHlwZXMgfSBmcm9tICdAL3N0b3JlL21vZHVsZXMvYXV0aCc7CmltcG9ydCBNY3ZMb2FkaW5nIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nJzsKaW1wb3J0IE1jdkVycm9yTWVzc2FnZSBmcm9tICdAL2NvbXBvbmVudHMvRXJyb3JNZXNzYWdlJzsKaW1wb3J0IE1jdlRhZ0xpc3QgZnJvbSAnQC9jb21wb25lbnRzL1RhZ0xpc3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01jdkFydGljbGUnLAogIGNvbXBvbmVudHM6IHsKICAgIE1jdkxvYWRpbmc6IE1jdkxvYWRpbmcsCiAgICBNY3ZFcnJvck1lc3NhZ2U6IE1jdkVycm9yTWVzc2FnZSwKICAgIE1jdlRhZ0xpc3Q6IE1jdlRhZ0xpc3QKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgaXNMb2FkaW5nOiBmdW5jdGlvbiBpc0xvYWRpbmcoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmFydGljbGUuaXNMb2FkaW5nOwogICAgfSwKICAgIGFydGljbGU6IGZ1bmN0aW9uIGFydGljbGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmFydGljbGUuZGF0YTsKICAgIH0sCiAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3Ioc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmFydGljbGUuZXJyb3I7CiAgICB9CiAgfSkpLCBtYXBHZXR0ZXJzKHsKICAgIGN1cnJlbnRVc2VyOiBhdXRoR2V0dGVyVHlwZXMuY3VycmVudFVzZXIKICB9KSksIHt9LCB7CiAgICBpc0F1dGhvcjogZnVuY3Rpb24gaXNBdXRob3IoKSB7CiAgICAgIGlmICghdGhpcy5jdXJyZW50VXNlciB8fCAhdGhpcy5hcnRpY2xlKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5jdXJyZW50VXNlci51c2VybmFtZSA9PT0gdGhpcy5hcnRpY2xlLmF1dGhvci51c2VybmFtZTsKICAgIH0KICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goYXJ0aWNsZUFjdGlvblR5cGVzLmdldEFydGljbGUsIHsKICAgICAgc2x1ZzogdGhpcy4kcm91dGUucGFyYW1zLnNsdWcKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZGVsZXRlQXJ0aWNsZTogZnVuY3Rpb24gZGVsZXRlQXJ0aWNsZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKGFydGljbGVBY3Rpb25UeXBlcy5kZWxldGVBcnRpY2xlLCB7CiAgICAgICAgc2x1ZzogdGhpcy4kcm91dGUucGFyYW1zLnNsdWcKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdnbG9iYWxGZWVkJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Article.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,SAAA,QAAA,EAAA,UAAA,QAAA,MAAA;AAEA,SAAA,WAAA,IAAA,kBAAA,QAAA,yBAAA;AACA,SAAA,WAAA,IAAA,eAAA,QAAA,sBAAA;AACA,OAAA,UAAA,MAAA,sBAAA;AACA,OAAA,eAAA,MAAA,2BAAA;AACA,OAAA,UAAA,MAAA,sBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,eAAA,EAAA,eAFA;AAGA,IAAA,UAAA,EAAA;AAHA,GAFA;AAOA,EAAA,QAAA,gDACA,QAAA,CAAA;AACA,IAAA,SAAA,EAAA,mBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,OAAA,CAAA,SAAA;AAAA,KADA;AAEA,IAAA,OAAA,EAAA,iBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,OAAA,CAAA,IAAA;AAAA,KAFA;AAGA,IAAA,KAAA,EAAA,eAAA,KAAA;AAAA,aAAA,KAAA,CAAA,OAAA,CAAA,KAAA;AAAA;AAHA,GAAA,CADA,GAMA,UAAA,CAAA;AACA,IAAA,WAAA,EAAA,eAAA,CAAA;AADA,GAAA,CANA;AASA,IAAA,QATA,sBASA;AACA,UAAA,CAAA,KAAA,WAAA,IAAA,CAAA,KAAA,OAAA,EAAA;AACA,eAAA,KAAA;AACA;;AAEA,aAAA,KAAA,WAAA,CAAA,QAAA,KAAA,KAAA,OAAA,CAAA,MAAA,CAAA,QAAA;AACA;AAfA,IAPA;AAwBA,EAAA,OAxBA,qBAwBA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,kBAAA,CAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AADA,KAAA;AAGA,GA5BA;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AACA,WAAA,MAAA,CACA,QADA,CACA,kBAAA,CAAA,aADA,EACA;AACA,QAAA,IAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AADA,OADA,EAIA,IAJA,CAIA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OANA;AAOA;AATA;AA7BA,CAAA","sourcesContent":["<template>\n  <div class=\"article-page\">\n    <div class=\"banner\">\n      <div class=\"container\" v-if=\"article\">\n        <h1>{{ article.title }}</h1>\n        <div class=\"article-meta\">\n          <router-link\n            :to=\"{name: 'userProfile', params: {slug: article.author.username}}\"\n          >\n            <img :src=\"article.author.image\" />\n          </router-link>\n          <div class=\"info\">\n            <router-link\n              :to=\"{\n                name: 'userProfile',\n                params: {slug: article.author.username}\n              }\"\n            >\n              {{ article.author.username }}\n            </router-link>\n            <span class=\"date\">{{ article.createdAt }}</span>\n          </div>\n          <span v-if=\"isAuthor\">\n            <router-link\n              class=\"btn btn-outline-secondary btn-sm\"\n              :to=\"{name: 'editArticle', params: {slug: article.slug}}\"\n            >\n              <i class=\"ion-edit\" />\n              Edit Article\n            </router-link>\n            <button\n              class=\"btn btn-outline-danger btn-sm\"\n              @click=\"deleteArticle\"\n            >\n              <i class=\"ion-trash-a\" />\n              Delete Article\n            </button>\n          </span>\n        </div>\n      </div>\n    </div>\n    <div class=\"container page\">\n      <mcv-loading v-if=\"isLoading\" />\n      <mcv-error-message v-if=\"isLoading\" :message=\"error\" />\n      <div class=\"row article-content\" v-if=\"article\">\n        <div class=\"col-xs-12\">\n          <div>\n            <p>{{ article.body }}</p>\n          </div>\n          <mcv-tag-list :tags=\"article.tagList\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {mapState, mapGetters} from 'vuex'\n\nimport {actionTypes as articleActionTypes} from '@/store/modules/article'\nimport {getterTypes as authGetterTypes} from '@/store/modules/auth'\nimport McvLoading from '@/components/Loading'\nimport McvErrorMessage from '@/components/ErrorMessage'\nimport McvTagList from '@/components/TagList'\n\nexport default {\n  name: 'McvArticle',\n  components: {\n    McvLoading,\n    McvErrorMessage,\n    McvTagList\n  },\n  computed: {\n    ...mapState({\n      isLoading: state => state.article.isLoading,\n      article: state => state.article.data,\n      error: state => state.article.error\n    }),\n    ...mapGetters({\n      currentUser: authGetterTypes.currentUser\n    }),\n    isAuthor() {\n      if (!this.currentUser || !this.article) {\n        return false\n      }\n\n      return this.currentUser.username === this.article.author.username\n    }\n  },\n  mounted() {\n    this.$store.dispatch(articleActionTypes.getArticle, {\n      slug: this.$route.params.slug\n    })\n  },\n  methods: {\n    deleteArticle() {\n      this.$store\n        .dispatch(articleActionTypes.deleteArticle, {\n          slug: this.$route.params.slug\n        })\n        .then(() => {\n          this.$router.push({name: 'globalFeed'})\n        })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views"}]}