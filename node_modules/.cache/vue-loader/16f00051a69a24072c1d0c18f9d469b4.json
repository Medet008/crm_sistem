{"remainingRequest":"/Users/medetkalpebaev/Documents/crm_sistem/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/medetkalpebaev/Documents/crm_sistem/src/views/Article.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/medetkalpebaev/Documents/crm_sistem/src/views/Article.vue","mtime":1599941887000},{"path":"/Users/medetkalpebaev/Documents/crm_sistem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/medetkalpebaev/Documents/crm_sistem/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/medetkalpebaev/Documents/crm_sistem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/medetkalpebaev/Documents/crm_sistem/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwU3RhdGUsIG1hcEdldHRlcnN9IGZyb20gJ3Z1ZXgnCgppbXBvcnQge2FjdGlvblR5cGVzIGFzIGFydGljbGVBY3Rpb25UeXBlc30gZnJvbSAnQC9zdG9yZS9tb2R1bGVzL2FydGljbGUnCmltcG9ydCB7Z2V0dGVyVHlwZXMgYXMgYXV0aEdldHRlclR5cGVzfSBmcm9tICdAL3N0b3JlL21vZHVsZXMvYXV0aCcKaW1wb3J0IE1jdkxvYWRpbmcgZnJvbSAnQC9jb21wb25lbnRzL0xvYWRpbmcnCmltcG9ydCBNY3ZFcnJvck1lc3NhZ2UgZnJvbSAnQC9jb21wb25lbnRzL0Vycm9yTWVzc2FnZScKaW1wb3J0IE1jdlRhZ0xpc3QgZnJvbSAnQC9jb21wb25lbnRzL1RhZ0xpc3QnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01jdkFydGljbGUnLAogIGNvbXBvbmVudHM6IHsKICAgIE1jdkxvYWRpbmcsCiAgICBNY3ZFcnJvck1lc3NhZ2UsCiAgICBNY3ZUYWdMaXN0CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoewogICAgICBpc0xvYWRpbmc6IHN0YXRlID0+IHN0YXRlLmFydGljbGUuaXNMb2FkaW5nLAogICAgICBhcnRpY2xlOiBzdGF0ZSA9PiBzdGF0ZS5hcnRpY2xlLmRhdGEsCiAgICAgIGVycm9yOiBzdGF0ZSA9PiBzdGF0ZS5hcnRpY2xlLmVycm9yCiAgICB9KSwKICAgIC4uLm1hcEdldHRlcnMoewogICAgICBjdXJyZW50VXNlcjogYXV0aEdldHRlclR5cGVzLmN1cnJlbnRVc2VyCiAgICB9KSwKICAgIGlzQXV0aG9yKCkgewogICAgICBpZiAoIXRoaXMuY3VycmVudFVzZXIgfHwgIXRoaXMuYXJ0aWNsZSkgewogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5jdXJyZW50VXNlci51c2VybmFtZSA9PT0gdGhpcy5hcnRpY2xlLmF1dGhvci51c2VybmFtZQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKGFydGljbGVBY3Rpb25UeXBlcy5nZXRBcnRpY2xlLCB7CiAgICAgIHNsdWc6IHRoaXMuJHJvdXRlLnBhcmFtcy5zbHVnCiAgICB9KQogIH0sCiAgbWV0aG9kczogewogICAgZGVsZXRlQXJ0aWNsZSgpIHsKICAgICAgdGhpcy4kc3RvcmUKICAgICAgICAuZGlzcGF0Y2goYXJ0aWNsZUFjdGlvblR5cGVzLmRlbGV0ZUFydGljbGUsIHsKICAgICAgICAgIHNsdWc6IHRoaXMuJHJvdXRlLnBhcmFtcy5zbHVnCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ2dsb2JhbEZlZWQnfSkKICAgICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["Article.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Article.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"article-page\">\n    <div class=\"banner\">\n      <div class=\"container\" v-if=\"article\">\n        <h1>{{ article.title }}</h1>\n        <div class=\"article-meta\">\n          <router-link\n            :to=\"{name: 'userProfile', params: {slug: article.author.username}}\"\n          >\n            <img :src=\"article.author.image\" />\n          </router-link>\n          <div class=\"info\">\n            <router-link\n              :to=\"{\n                name: 'userProfile',\n                params: {slug: article.author.username}\n              }\"\n            >\n              {{ article.author.username }}\n            </router-link>\n            <span class=\"date\">{{ article.createdAt }}</span>\n          </div>\n          <span v-if=\"isAuthor\">\n            <router-link\n              class=\"btn btn-outline-secondary btn-sm\"\n              :to=\"{name: 'editArticle', params: {slug: article.slug}}\"\n            >\n              <i class=\"ion-edit\" />\n              Edit Article\n            </router-link>\n            <button\n              class=\"btn btn-outline-danger btn-sm\"\n              @click=\"deleteArticle\"\n            >\n              <i class=\"ion-trash-a\" />\n              Delete Article\n            </button>\n          </span>\n        </div>\n      </div>\n    </div>\n    <div class=\"container page\">\n      <mcv-loading v-if=\"isLoading\" />\n      <mcv-error-message v-if=\"isLoading\" :message=\"error\" />\n      <div class=\"row article-content\" v-if=\"article\">\n        <div class=\"col-xs-12\">\n          <div>\n            <p>{{ article.body }}</p>\n          </div>\n          <mcv-tag-list :tags=\"article.tagList\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {mapState, mapGetters} from 'vuex'\n\nimport {actionTypes as articleActionTypes} from '@/store/modules/article'\nimport {getterTypes as authGetterTypes} from '@/store/modules/auth'\nimport McvLoading from '@/components/Loading'\nimport McvErrorMessage from '@/components/ErrorMessage'\nimport McvTagList from '@/components/TagList'\n\nexport default {\n  name: 'McvArticle',\n  components: {\n    McvLoading,\n    McvErrorMessage,\n    McvTagList\n  },\n  computed: {\n    ...mapState({\n      isLoading: state => state.article.isLoading,\n      article: state => state.article.data,\n      error: state => state.article.error\n    }),\n    ...mapGetters({\n      currentUser: authGetterTypes.currentUser\n    }),\n    isAuthor() {\n      if (!this.currentUser || !this.article) {\n        return false\n      }\n\n      return this.currentUser.username === this.article.author.username\n    }\n  },\n  mounted() {\n    this.$store.dispatch(articleActionTypes.getArticle, {\n      slug: this.$route.params.slug\n    })\n  },\n  methods: {\n    deleteArticle() {\n      this.$store\n        .dispatch(articleActionTypes.deleteArticle, {\n          slug: this.$route.params.slug\n        })\n        .then(() => {\n          this.$router.push({name: 'globalFeed'})\n        })\n    }\n  }\n}\n</script>\n"]}]}